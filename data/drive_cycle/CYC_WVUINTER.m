% ADVISOR data file:  CYC_WVUINTER.m
%
% Data source: Nigel Clark, West Virginia University
% 
% Data confirmation:
%
% Notes: This is a composite drive cycle of various 
% micro-trips pulled from on-road test data. It 
% represents typical interstate driving for a heavy vehicle. 
% 
% Created on: 10/23/98
% By:  TM of NREL
%
% Revision history at end of file.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% FILE ID INFO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
cyc_description='West Virginia Interstate Driving Schedule';
cyc_version=2003; % version of ADVISOR for which the file was generated
cyc_proprietary=0; % 0=> non-proprietary, 1=> proprietary, do not distribute
cyc_validation=0; % 0=> no validation, 1=> data agrees with source data, 
% 2=> data matches source data and data collection methods have been verified
disp(['Data loaded: CYC_WVUINTER - ',cyc_description])


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SPEED AND KEY POSITION vs. time
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% load variable 'cyc_mph', 2 column matrix with time in the first column
cyc_mph=[1,1.29245441184998;2,4.57951362147808;3,8.59979224295616;4,11.8060730518436;5,14.9253627214623;6,16.3110226110935;7,15.4845977214623;8,13.5894122066498;9,10.9423663977623;10,8.20211404443742;11,5.64206044147492;12,4.47388053332806;13,3.56046317110777;14,2.03810116740465;15,0.888562341480851;16,0;17,0;18,0;19,0;20,0;21,0;22,0;23,1.33595038148045;24,4.39310213258744;25,7.05878935702802;26,7.05878935702802;27,6.51819523925304;28,5.90925033110618;29,5.45564895258426;30,5.55506823554992;31,5.91546413629056;32,5.61099194888116;33,4.35581983480930;34,2.08159713703513;35,0.484670371110737;36,0;37,0;38,0;39,0;40,0;41,0;42,0;43,0;44,0;45,0;46,0;47,0;48,0;49,0;50,0;51,1.28002693481326;52,0.975554480739833;53,1.41672878222108;54,2.54762625925779;55,3.08822037703275;56,3.28705947629213;57,3.62260042295932;58,3.65988272073746;59,3.32434177407027;60,2.85831251851558;61,1.39808763333201;62,0.316899864444136;63,0;64,0;65,0;66,0;67,0;68,0;69,0;70,0;71,0;72,0;73,0;74,0;75,0;76,0;77,0;78,0;79,0;80,0;81,0;82,0;83,0;84,0;85,0;86,0;87,0;88,0;89,1.08118776888788;90,0.621372318517566;91,0;92,0;93,0;94,0;95,1.20546220592499;96,1.74605619036794;97,1.08740150740624;98,0.484670371110737;99,0;100,0;101,1.08118776888788;102,2.45442051481248;103,3.71580616740465;104,4.62922352962494;105,4.39931593777180;106,3.22492222444058;107,1.23031715999842;108,0;109,0;110,0;111,0.975554480739833;112,2.02567369036794;113,4.90262722444058;114,6.66732443036556;115,8.33881615850926;116,10.2464287503624;117,11.9800574636936;118,13.1295959562874;119,12.7443453681374;120,12.1664694859123;121,11.2468380518436;122,11.4456776844311;123,11.4891737873936;124,10.9299387873936;125,9.76797268443108;126,7.12092634221554;127,5.11389393406868;128,3.65988272073746;129,2.42956556073905;130,0.963127070369124;131,0;132,0;133,0;134,0;135,0;136,0;137,0;138,0;139,0;140,0;141,1.37323281259060;142,3.24977717851401;143,6.87859113999366;144,10.4141998903561;145,12.6946359933186;146,13.6453359199810;147,13.3657184199810;148,13.5769845962811;149,15.1987658829498;150,16.2302436770248;151,17.1623027214623;152,17.7339653318310;153,18.0943617658997;154,16.4415109199810;155,15.8947035303497;156,16.1867486407185;157,17.3984241184998;158,18.4920388977623;159,19.1569069859123;160,19.7161419859123;161,20.8470406629372;162,21.9406554421997;163,21.6796788244248;164,20.6109192658997;165,20.4680022799873;166,20.2008134570122;167,19.7907076481247;168,18.9394264710999;169,17.9763000007248;170,16.1618934199810;171,14.9750720962811;172,15.2484763244248;173,15.5156662140560;174,15.8884891918373;175,16.5409307362747;176,17.3176451844311;177,18.2807727214623;178,18.9207855888748;179,19.1879765451622;180,19.4054570599747;181,19.5048758096123;182,19.6229375747871;183,19.2128317658997;184,18.2869870599747;185,17.5724085303497;186,17.9328038977623;187,18.1999948540497;188,18.2745583829498;189,17.8644536407185;190,17.2057988244248;191,16.6527770962811;192,15.4348872799873;193,14.7762335303497;194,9.33301165480614;195,2.63461846518279;196,0;197,0;198,0.751860494073033;199,4.43038443036556;200,8.97261628739358;201,12.4957963607311;202,14.7948744125748;203,16.7397693022060;204,17.3611412873936;205,16.8454023903561;206,17.2803634199810;207,18.2745583829498;208,18.8586486036873;209,18.2186357362747;210,17.7153244496060;211,17.7277509933186;212,17.2927910303497;213,17.2057988244248;214,17.5102715451622;215,18.3801914710999;216,19.0512738977623;217,19.3308913977623;218,19.7720667658997;219,20.7351932362747;220,21.2322912510872;221,20.9588880895996;222,21.4684126481247;223,21.7356036044121;224,21.5802600747871;225,21.6734644859123;226,21.4062756629372;227,21.3627795599747;228,21.1204438244248;229,20.7911158829498;230,20.7227666925621;231,20.6047049273872;232,20.2318808829498;233,19.5048758096123;234,18.4361162510872;235,16.7956930155373;236,15.0123549273872;237,13.2662986036873;238,11.3214026473999;239,8.68057064369678;240,5.39972523925304;241,2.57248121333122;242,0.584089954073430;243,0;244,0;245,0;246,0;247,0;248,0;249,0;250,0;251,0;252,1.89518551481247;253,4.20669037703275;254,7.58695586443424;255,10.5695423533249;256,13.4216410666561;257,14.5276845229435;258,14.7016678681374;259,14.8570113977623;260,15.4535292288685;261,16.3234502214623;262,17.0504552947998;263,17.6780416184998;264,17.9452325747871;265,17.7401786036873;266,17.4605611036873;267,17.7215377214623;268,17.7215377214623;269,17.6096902947998;270,17.9949408829498;271,18.0322247807121;272,17.5724085303497;273,16.7087008096123;274,15.7269323903561;275,15.3106133096123;276,15.1614841184998;277,15.0496366918373;278,14.8818666184998;279,14.3102040081310;280,13.4030001844311;281,12.2534616918373;282,11.2033419488812;283,9.19631007406236;284,7.36326154443742;285,4.82184882369996;286,3.01986931999684;287,1.55964443481326;288,0.360395934073627;289,0;290,0;291,0;292,0;293,0;294,0;295,0;296,0;297,0;298,0;299,0.391464526666403;300,2.68432837332965;301,6.49955435702802;302,9.20873768443108;303,10.7559543755436;304,11.6445162503624;305,13.6204806992436;306,15.6896506259060;307,17.2803634199810;308,17.4419202214623;309,17.5661941918373;310,21.5119087510872;311,19.2252583096123;312,17.0318144125748;313,13.4030001844311;314,9.46971323554992;315,5.51778593777180;316,3.16278497258901;317,1.49750718296170;318,0;319,0;320,0;321,0;322,0;323,0;324,0;325,0;326,0;327,0;328,0;329,0;330,0;331,0;332,0;333,0.608944841480851;334,1.85168941184998;335,4.42417062518120;336,7.07121643406868;337,9.42000386073112;338,12.5392924636936;339,15.3851779051685;340,18.6846641918373;341,21.7418158096123;342,22.0276476481247;343,21.3192834570122;344,20.2443095599747;345,19.2501135303497;346,17.3176451844311;347,15.4783833829498;348,15.6399401844311;349,15.3541094125748;350,13.8193192651749;351,11.4083948533249;352,8.77999045999050;353,5.18845852962494;354,1.73984238518357;355,0;356,0;357,0;358,0;359,0;360,0;361,0;362,0;363,0;364,0;365,0;366,0;367,0;368,0;369,0;370,0;371,0;372,0;373,0;374,0;375,0;376,0;377,0;378,0;379,0;380,0;381,0;382,0;383,0;384,0;385,0;386,0.466029222221673;387,2.30529132369996;388,5.12010773925304;389,8.70542586443424;390,10.8926559562874;391,11.9800574636936;392,11.9241337503624;393,11.9986994125748;394,15.1987658829498;395,17.6407587873936;396,19.1879765451622;397,20.0392555888748;398,20.5114983829498;399,20.8905367658997;400,20.9588880895996;401,21.3441386777496;402,21.5367639718247;403,21.4373430888748;404,22.1084255155373;405,22.9534923540498;406,22.9472780155373;407,22.9472780155373;408,23.3573838244248;409,23.6556422066499;410,23.2144689718246;411,23.2517507362747;412,22.9224227947998;413,22.1892055162621;414,21.5056944125748;415,21.5802600747871;416,21.3006425747871;417,20.7289788977623;418,18.9953512510872;419,17.9887286777496;420,18.3491240451622;421,19.2128317658997;422,20.5052861777496;423,21.1390847066498;424,20.4680022799873;425,19.4924492658997;426,18.5479636777496;427,16.9448222066498;428,12.2348208096123;429,6.59897363999366;430,2.50413042295932;431,2.68432837332965;432,4.36203337332965;433,1.93868148444295;434,0;435,0;436,0;437,0;438,0.894776079999209;439,5.48050363999366;440,10.9361520592499;441,14.6333176110935;442,17.1374475007248;443,18.3801914710999;444,19.8528446333122;445,20.8159711036873;446,21.6051152955246;447,22.4750352214623;448,21.8536632362747;449,20.6357744866371;450,18.8462220599747;451,17.3114319125748;452,16.0935420962811;453,14.8880798903561;454,13.2538709933186;455,9.00989805184364;456,5.23195463258744;457,5.39351143406868;458,8.43823544147492;459,11.9117072066498;460,14.6643861036873;461,17.7091101110935;462,19.4240979421997;463,20.2132400007248;464,20.6482010303497;465,21.0148107362747;466,20.6482010303497;467,20.0765394866371;468,18.9767103688622;469,18.5976719859123;470,19.1941908836746;471,19.7347828681374;472,19.4303122807121;473,20.2132400007248;474,20.5363536036873;475,20.6979114718247;476,21.3006425747871;477,22.0711437510872;478,21.7853119125748;479,21.0272372799873;480,20.0578964710999;481,18.9829225740624;482,18.3491240451622;483,17.7401786036873;484,15.3043989710999;485,13.4589238977623;486,12.7816281992436;487,13.7758231622124;488,15.1676973903561;489,16.4601518022060;490,17.3922108466435;491,18.3366953681374;492,19.5856536770248;493,20.1200355895996;494,20.3002322066498;495,21.0334516184998;496,21.5243352947998;497,21.8225958103371;498,21.4932678688622;499,21.3876347807121;500,20.9899555155373;501,21.3379243392372;502,21.6734644859123;503,20.8470406629372;504,19.3308913977623;505,17.8644536407185;506,14.7948744125748;507,11.2592656622124;508,7.75472593777180;509,4.90262722444058;510,2.06295598814607;511,0;512,0;513,0;514,0;515,0;516,0;517,0;518,1.06876035851717;519,3.18763992666244;520,5.54264062518120;521,7.52481834591866;522,9.46971323554992;523,11.2592656622124;524,13.4030001844311;525,14.7078822066498;526,15.1179880155373;527,15.1801250007248;528,15.2609039347935;529,15.0869195229435;530,14.5028293022060;531,13.8379612140560;532,12.2845301844311;533,10.8491598533249;534,9.05339415480614;535,7.35083393406868;536,6.44363064369678;537,6.52440904443742;538,6.48712674665928;539,5.28787834591866;540,3.71580616740465;541,1.69634641555309;542,1.31730923259139;543,3.54182202221870;544,5.67934273925304;545,6.82888123184682;546,7.86657336443424;547,9.09689025776864;548,10.7310991548061;549,11.8122873903561;550,13.0053219859123;551,14.1610748170185;552,15.0807051844311;553,15.5467347066498;554,15.1676973903561;555,14.5649662873936;556,13.6453359199810;557,12.8624060666561;558,12.2596749636936;559,12.1602562140560;560,12.1602562140560;561,12.2223931992436;562,12.3404538977623;563,12.4895830888748;564,12.6511398903561;565,12.8126966918373;566,12.8002690814686;567,12.5579344125748;568,12.1105457725811;569,11.5140290081310;570,10.9858625007248;571,11.0790679785061;572,11.6320897066498;573,12.2472473533249;574,12.8251243022060;575,12.9556126110935;576,13.7136861770248;577,14.9253627214623;578,16.1618934199810;579,17.0753105155373;580,18.1378578688622;581,19.2004030888748;582,19.7409972066498;583,19.9771186036873;584,19.8217750740624;585,19.3806018392372;586,18.9145733836746;587,18.5728167651749;588,18.2372766184998;589,18.0384369859123;590,17.5164848170185;591,16.9758906992436;592,16.4787926844311;593,16.0500459933186;594,15.3541094125748;595,14.3474857725811;596,13.6266939710999;597,13.3035803681374;598,13.1482379051685;599,12.9059021696186;600,13.2228025007248;601,13.6888320229435;602,14.1362195962811;603,14.6705993755436;604,15.1676973903561;605,15.7952837140560;606,16.4042280888748;607,16.9510365451622;608,17.3859965081310;609,17.6780416184998;610,17.6966825007248;611,17.9141630155373;612,18.6722376481247;613,19.5794414718247;614,20.4182939718247;615,21.2820016925621;616,21.8660919132996;617,21.8039527947998;618,21.8039527947998;619,21.9903658836746;620,22.2016320599747;621,22.3196916918373;622,22.2016320599747;623,21.8288080155373;624,21.1080172807121;625,20.3934387510872;626,19.7037154421997;627,19.1755478681374;628,18.6722376481247;629,18.0819330888748;630,17.4605611036873;631,16.9261813244248;632,16.5285031259060;633,16.8826852214623;634,17.5972637510872;635,18.5976719859123;636,19.4427388244248;637,19.9336225007248;638,20.4120796333122;639,20.6606275740624;640,20.6109192658997;641,20.1511030155373;642,18.8462220599747;643,16.3420911036873;644,14.8445837873936;645,13.7944651110935;646,12.4460869859123;647,10.3023524636936;648,7.72987125036240;649,6.55547753703118;650,4.75349803332806;651,3.17521231629372;652,2.11266576296091;653,1.21788968296170;654,0.596517431110145;655,0.403892003703118;656,0.720791868147254;657,0;658,0]; % 
if cyc_mph(1,1)~=0 % all cyc_mph should begin at time zero
    cyc_mph=[0 cyc_mph(1,2);cyc_mph]; % define a time zero point if not already defined
end
% keep key in 'on' position throughout cycle ('1' in the 2nd column => 'on')
vc_key_on=[cyc_mph(:,1) ones(size(cyc_mph,1),1)];


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OTHER DATA		
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%													
% Size of 'window' used to filter the trace with centered-in-time averaging;
% higher numbers mean more smoothing and less rigorous following of the trace.
% Used when cyc_filter_bool=1
cyc_avg_time=3;  % (s)
cyc_filter_bool=0;	% 0=> no filtering, follow trace exactly; 1=> smooth trace
cyc_grade=0;	%no grade associated with this cycle
cyc_elevation_init=0; %the initial elevation in meters.

if size(cyc_grade,1)<2
   % convert cyc_grade to a two column matrix, grade vs. dist
   cyc_grade=[0 cyc_grade; 1 cyc_grade]; % use this for a constant roadway grade
end

% A constant zero delta in cargo-mass:
% First column is distance (m) second column is mass (kg) 
cyc_cargo_mass=[0 0
   1 0]; 

if size(cyc_cargo_mass,1)<2
   % convert cyc_grade to a two column matrix, grade vs. dist
   cyc_cargo_mass=[0 cyc_cargo_mass; 1 cyc_cargo_mass]; % use this for a constant roadway grade
end

if exist('cyc_coast_gb_shift_delay')
    gb_shift_delay=cyc_coast_gb_shift_delay; % restore the original gb_shift_delay which may have been changed by cyc_coast
end

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% REVISION HISTORY
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 10/23/98:tm file created
% 3/15/99:ss updated *_version to 2.1 from 2.0
% 11/3/99:ss updated version to 2.21
% 8/20/01: mpo added special case code to reset gb_shift_delay if changed by cyc_coast